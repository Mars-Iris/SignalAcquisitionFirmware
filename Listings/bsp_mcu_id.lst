C51 COMPILER V9.56.0.0   BSP_MCU_ID                                                        11/15/2022 14:33:07 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE BSP_MCU_ID
OBJECT MODULE PLACED IN .\Objects\bsp_mcu_id.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Bsp\bsp_mcu_id.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Lis
                    -tings\bsp_mcu_id.lst) TABS(2) OBJECT(.\Objects\bsp_mcu_id.obj)

line level    source

   1          #include <stdio.h>
   2          #include "./User/includes.h"
   3          #include <string.h>
   4          
   5          #define ID_ADDR_RAM 0xF1                //STC系列ID号的存放在RAM区的地址
   6          //#define ID_ADDR_ROM 0x3ff9            //STC系列ID号的存放在ROM区的地址
   7          //========================================================================
   8          // 函数: BSP_GetlocalId(char *strid)
   9          // 描述: 读取MCU芯片的序列号
  10          // 参数：*strid[]指向串号保存的内存，保存格式为字符串
  11          //       lenth  读取的串号长度，STC12系列/STC12系列,长度为7
  12          // 返回: 无
  13          // 版本: V1.0, 2022-10-17
  14          //========================================================================
  15          void BSP_GetlocalId(u8 *id)       //读取单片机ID信息
  16          {
  17   1          unsigned char idata *iptr;
  18   1          //unsigned char code *cptr;
  19   1          unsigned char i=0;
  20   1            
  21   1          iptr = ID_ADDR_RAM;                 //从RAM区读取ID号
  22   1          for (i=0; i<7; i++)                 //读7个字节
  23   1          {
  24   2            *id++ = *iptr++;      
  25   2          }
  26   1          
  27   1      //    cptr = ID_ADDR_ROM;               //从程序区读取ID号
  28   1      //    for (i=0; i<7; i++)               //读7个字节
  29   1      //    {
  30   1      //        FID[i]=(*cptr++);             //发送ID到串口
  31   1      //    }     
  32   1      }
  33          /***********************************************************************/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     40    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
