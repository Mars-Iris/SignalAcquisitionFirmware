C51 COMPILER V9.56.0.0   DELAY                                                             10/17/2022 09:56:18 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE DELAY
OBJECT MODULE PLACED IN .\Objects\delay.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Source\delay.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\delay.lst) TABS(2) OBJECT(.\Objects\delay.obj)

line level    source

   1          #include  "delay.h"
*** WARNING C318 IN LINE 1 OF Source\delay.c: can't open file 'delay.h'
   2          #include  "GPIO.h"
*** WARNING C318 IN LINE 2 OF Source\delay.c: can't open file 'GPIO.h'
   3          #include  <string.h>
   4          #include <stdio.h>
   5          #include "intrins.h"
   6          #include <ctype.h>
   7          //========================================================================
   8          // 函数: void  delay_ms(unsigned char ms)
   9          // 描述: 延时函数。
  10          // 参数: ms,要延时的ms数, 这里只支持1~255ms. 自动适应主时钟.
  11          // 返回: none.
  12          // 版本: VER1.0
  13          // 日期: 2013-4-1
  14          // 备注: 
  15          //========================================================================
  16          void  delay_ms(unsigned int ms)
  17          {
  18   1           unsigned int i;
  19   1         do{
  20   2              i = MAIN_Fosc / 13000;
*** ERROR C202 IN LINE 20 OF Source\delay.c: 'MAIN_Fosc': undefined identifier
  21   2            while(--i)  ;   //14T per loop
  22   2           }while(--ms);
  23   1      }
  24          //========================================================================
  25          //void Delay50ms()    //@11.0592MHz
  26          //void Delay100ms()   //@11.0592MHz
  27          //{
  28          //  unsigned char i, j, k;
  29          
  30          //  _nop_();
  31          //  _nop_();
  32          //  i = 3;
  33          //  j = 26;
  34          //  k = 223;
  35          //  do
  36          //  {
  37          //    do
  38          //    {
  39          //      while (--k);
  40          //    } while (--j);
  41          //  } while (--i);
  42          //}
  43          //========================================================================
  44          //void Delay500us()   //@11.0592MHz
  45          void Delay100ms()   //@11.0592MHz
  46          {
  47   1        unsigned char i, j;
  48   1      
  49   1        _nop_();
  50   1        _nop_();
  51   1        i = 7;
C51 COMPILER V9.56.0.0   DELAY                                                             10/17/2022 09:56:18 PAGE 2   

  52   1        j = 113;
  53   1        do
  54   1        {
  55   2          while ((--j)&&(jiaosha_ztbh()==0));
  56   2        } while ((--i)&&(jiaosha_ztbh()==0));
  57   1      }
  58          //========================================================================
  59          void delay(unsigned int k)
  60          {
  61   1      while(k--);
  62   1      }
  63          //========================================================================

C51 COMPILATION COMPLETE.  2 WARNING(S),  1 ERROR(S)
